{% comment %} accounts/templates/accounts/password_reset_email.html {% endcomment %}
{% autoescape off %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Redefinição de Senha - {{ site_name }}{% endblock %}</title> {# Usando block title e var site_name #}
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; line-height: 1.6; color: #333333; background-color: #f4f4f4; margin: 0; padding: 0; }
        .container { max-width: 600px; margin: 20px auto; background-color: #ffffff; padding: 30px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        h1 { color: #111111; font-size: 24px; }
        p { margin-bottom: 15px; font-size: 16px; color: #555555;}
        a { color: #00B982; text-decoration: none; }
        a:hover { text-decoration: underline; }
        .button-link { /* Estilo direto no link para máxima compatibilidade */
            background-color: #00B982;
            color: #ffffff !important; /* !important para sobrescrever estilo padrão de link do cliente de email */
            padding: 12px 25px;
            text-decoration: none !important;
            border-radius: 5px;
            display: inline-block;
            font-weight: bold;
            font-size: 16px;
            border: none; /* Para parecer botão */
            cursor: pointer;
        }
        .button-wrapper { text-align: center; margin: 25px 0; }
        .link-wrapper { word-break: break-all; margin-top: 15px; font-size: 14px; } /* Para quebrar links longos */
        .footer { margin-top: 25px; padding-top: 15px; border-top: 1px solid #eeeeee; font-size: 12px; color: #888888; text-align: center; }
        .username { font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Olá{% if user.get_full_name %}, {{ user.get_full_name }}{% endif %}!</h1> {# Saudaçao personalizada se tiver nome #}

        <p>{% blocktrans %}Você (ou alguém se passando por você) solicitou uma redefinição de senha para sua conta em {{ site_name }}.{% endblocktrans %}</p>

        <p>{% blocktrans %}Por favor, clique no botão abaixo para definir uma nova senha:{% endblocktrans %}</p>

        <div class="button-wrapper">
            {# Link principal como botão #}
            <a href="{{ protocol }}://{{ domain }}{% url 'accounts:password_reset_confirm' uidb64=uid token=token %}" class="button-link">
                {% trans "Definir Nova Senha" %}
            </a>
        </div>

        <p>{% blocktrans %}Se o botão não funcionar, copie e cole o seguinte link no seu navegador:{% endblocktrans %}</p>
        <div class="link-wrapper">
            {# Link como texto, caso o botão falhe #}
            <a href="{{ protocol }}://{{ domain }}{% url 'accounts:password_reset_confirm' uidb64=uid token=token %}">{{ protocol }}://{{ domain }}{% url 'accounts:password_reset_confirm' uidb64=uid token=token %}</a>
        </div>

        <p style="margin-top: 20px;">{% blocktrans %}Se você não solicitou esta redefinição, pode ignorar este e-mail com segurança. Sua senha não será alterada.{% endblocktrans %}</p>

        {% if user.get_username %} {# Mostra apenas se tiver username #}
            <p>{% blocktrans %}Seu nome de usuário, caso tenha esquecido: <span class="username">{{ user.get_username }}</span>{% endblocktrans %}</p>
        {% endif %}

        <div class="footer">
            {% blocktrans %}Obrigado,{% endblocktrans %}<br>
            Equipe {{ site_name }}
        </div>
    </div>
</body>
</html>
{% endautoescape %}